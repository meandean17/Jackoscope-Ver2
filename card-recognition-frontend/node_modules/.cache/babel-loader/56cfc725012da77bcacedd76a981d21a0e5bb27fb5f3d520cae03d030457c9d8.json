{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Button}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[videoOn,setVideoOn]=useState(false);const[stats,setStats]=useState({count:0,history:[]});const[cameraIndex,setCameraIndex]=useState(0);useEffect(()=>{const interval=setInterval(()=>{fetch('/api/get_stats').then(response=>response.json()).then(data=>setStats(data));},1000);return()=>clearInterval(interval);},[]);const toggleVideo=()=>{const action=videoOn?'stop_video':'start_video';fetch(\"/api/\".concat(action)).then(response=>response.json()).then(()=>setVideoOn(!videoOn));};const setThreshMethod=method=>{fetch(\"/api/set_thresh_method/\".concat(method)).then(response=>response.json()).then(data=>console.log(data.status));};const handleCameraChange=event=>{const newCameraIndex=parseInt(event.target.value);setCameraIndex(newCameraIndex);fetch(\"/api/set_camera\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({camera_index:newCameraIndex})}).then(response=>response.json()).then(data=>{if(data.status){console.log(data.status);}else if(data.error){console.error(data.error);}}).catch(error=>console.error('Error: ',error));};return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsxs(Row,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Video Feed\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/api/video_feed\",alt:\"Video feed\",style:{display:videoOn?'block':'none',width:'100%'}})]})})}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Statistics\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Count: \",stats.count]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Card History:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-history\",children:stats.history.map((card,index)=>/*#__PURE__*/_jsx(\"div\",{children:\"\".concat(card[0],\" of \").concat(card[1])},index))})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Controls\"}),/*#__PURE__*/_jsx(Button,{onClick:toggleVideo,children:videoOn?'Stop Video':'Start Video'})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Thresholding Method\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setThreshMethod('original'),className:\"me-2 mb-2\",children:\"Original\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setThreshMethod('adaptive'),className:\"me-2 mb-2\",children:\"Adaptive\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setThreshMethod('otsu'),className:\"me-2 mb-2\",children:\"Otsu\"})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Camera Selection\"}),/*#__PURE__*/_jsxs(Form.Select,{value:cameraIndex,onChange:handleCameraChange,children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"Built-in Webcam\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"USB Camera\"})]})]})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","jsx","_jsx","jsxs","_jsxs","App","videoOn","setVideoOn","stats","setStats","count","history","cameraIndex","setCameraIndex","interval","setInterval","fetch","then","response","json","data","clearInterval","toggleVideo","action","concat","setThreshMethod","method","console","log","status","handleCameraChange","event","newCameraIndex","parseInt","target","value","headers","body","JSON","stringify","camera_index","error","catch","fluid","children","className","md","Body","Title","src","alt","style","display","width","map","card","index","onClick","Form","Select","onChange"],"sources":["C:/Users/Dean.PIC-SIX/Documents/random/school/JACKOSCOPE REACT/card-recognition-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Button } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nfunction App() {\n  const [videoOn, setVideoOn] = useState(false);\n  const [stats, setStats] = useState({ count: 0, history: [] });\n  const [cameraIndex, setCameraIndex] = useState(0);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      fetch('/api/get_stats')\n        .then(response => response.json())\n        .then(data => setStats(data));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const toggleVideo = () => {\n    const action = videoOn ? 'stop_video' : 'start_video';\n    fetch(`/api/${action}`)\n      .then(response => response.json())\n      .then(() => setVideoOn(!videoOn));\n  };\n\n  const setThreshMethod = (method) => {\n    fetch(`/api/set_thresh_method/${method}`)\n      .then(response => response.json())\n      .then(data => console.log(data.status));\n  };\n\n  const handleCameraChange = (event) => {\n    const newCameraIndex = parseInt(event.target.value);\n    setCameraIndex(newCameraIndex);\n    fetch(`/api/set_camera`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ camera_index: newCameraIndex }),\n    })\n      .then(response => response.json())\n      .then(data => {\n        if (data.status) {\n          console.log(data.status);\n        } else if (data.error) {\n          console.error(data.error);\n        }\n      })\n      .catch(error => console.error('Error: ', error));\n  };\n\n\n  return (\n    <Container fluid>\n      <Row className=\"mt-4\">\n        <Col md={8}>\n          <Card>\n            <Card.Body>\n              <Card.Title>Video Feed</Card.Title>\n              <img\n                src=\"/api/video_feed\"\n                alt=\"Video feed\"\n                style={{ display: videoOn ? 'block' : 'none', width: '100%' }}\n              />\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col md={4}>\n          <Card className=\"mb-4\">\n            <Card.Body>\n              <Card.Title>Statistics</Card.Title>\n              <p>Count: {stats.count}</p>\n              <h6>Card History:</h6>\n              <div className=\"card-history\">\n                {stats.history.map((card, index) => (\n                  <div key={index}>{`${card[0]} of ${card[1]}`}</div>\n                ))}\n              </div>\n            </Card.Body>\n          </Card>\n          <Card className=\"mb-4\">\n            <Card.Body>\n              <Card.Title>Controls</Card.Title>\n              <Button onClick={toggleVideo}>\n                {videoOn ? 'Stop Video' : 'Start Video'}\n              </Button>\n            </Card.Body>\n          </Card>\n          <Card className='mb-4'>\n            <Card.Body>\n              <Card.Title>Thresholding Method</Card.Title>\n              <Button onClick={() => setThreshMethod('original')} className=\"me-2 mb-2\">Original</Button>\n              <Button onClick={() => setThreshMethod('adaptive')} className=\"me-2 mb-2\">Adaptive</Button>\n              <Button onClick={() => setThreshMethod('otsu')} className=\"me-2 mb-2\">Otsu</Button>\n            </Card.Body>\n          </Card>\n          <Card className='mb-4'>\n            <Card.Body>\n              <Card.Title>Camera Selection</Card.Title>\n              <Form.Select\n                value={cameraIndex}\n                onChange={handleCameraChange}\n              >\n                <option value={0}>Built-in Webcam</option>\n                <option value={1}>USB Camera</option>\n              </Form.Select>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}