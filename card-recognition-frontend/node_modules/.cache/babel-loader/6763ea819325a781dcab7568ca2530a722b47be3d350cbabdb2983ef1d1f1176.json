{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Button,Form}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[videoOn,setVideoOn]=useState(false);const[stats,setStats]=useState({count:0,history:[]});const[cameraIndex,setCameraIndex]=useState(0);const[availableCameras,setAvailableCameras]=useState([]);useEffect(()=>{// Fetch available cameras when component mounts\nfetch('/api/get_available_cameras').then(response=>response.json()).then(data=>{if(data.cameras&&data.cameras.length>0){setAvailableCameras(data.cameras);setCameraIndex(data.cameras[0]);}}).catch(error=>console.error('Error: ',error));const interval=setInterval(()=>{fetch('/api/get_stats').then(response=>response.json()).then(data=>setStats(data));},1000);return()=>clearInterval(interval);},[]);const toggleVideo=()=>{const action=videoOn?'stop_video':'start_video';fetch(\"/api/\".concat(action)).then(response=>response.json()).then(()=>setVideoOn(!videoOn));};const setThreshMethod=method=>{fetch(\"/api/set_thresh_method/\".concat(method)).then(response=>response.json()).then(data=>console.log(data.status));};const handleCameraChange=event=>{const newCameraIndex=parseInt(event.target.value);setCameraIndex(newCameraIndex);fetch(\"/api/set_camera\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({camera_index:newCameraIndex})}).then(response=>response.json()).then(data=>{if(data.status){console.log(data.status);}else if(data.error){console.error(data.error);}}).catch(error=>console.error('Error: ',error));};return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsxs(Row,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Video Feed\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/api/video_feed\",alt:\"Video feed\",style:{display:videoOn?'block':'none',width:'100%'}})]})})}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Statistics\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Count: \",stats.count]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Card History:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-history\",children:stats.history.map((card,index)=>/*#__PURE__*/_jsx(\"div\",{children:\"\".concat(card[0],\" of \").concat(card[1])},index))})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Controls\"}),/*#__PURE__*/_jsx(Button,{onClick:toggleVideo,children:videoOn?'Stop Video':'Start Video'})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Thresholding Method\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setThreshMethod('original'),className:\"me-2 mb-2\",children:\"Original\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setThreshMethod('adaptive'),className:\"me-2 mb-2\",children:\"Adaptive\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setThreshMethod('otsu'),className:\"me-2 mb-2\",children:\"Otsu\"})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Camera Selection\"}),/*#__PURE__*/_jsx(Form.Select,{value:cameraIndex,onChange:handleCameraChange,children:availableCameras.map((camera,index)=>/*#__PURE__*/_jsxs(\"option\",{value:index,children:[\"Camera \",index]},index))})]})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Form","jsx","_jsx","jsxs","_jsxs","App","videoOn","setVideoOn","stats","setStats","count","history","cameraIndex","setCameraIndex","availableCameras","setAvailableCameras","fetch","then","response","json","data","cameras","length","catch","error","console","interval","setInterval","clearInterval","toggleVideo","action","concat","setThreshMethod","method","log","status","handleCameraChange","event","newCameraIndex","parseInt","target","value","headers","body","JSON","stringify","camera_index","fluid","children","className","md","Body","Title","src","alt","style","display","width","map","card","index","onClick","Select","onChange","camera"],"sources":["C:/Users/Dean.PIC-SIX/Documents/random/school/JACKOSCOPE REACT/card-recognition-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Button, Form } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nfunction App() {\n  const [videoOn, setVideoOn] = useState(false);\n  const [stats, setStats] = useState({ count: 0, history: [] });\n  const [cameraIndex, setCameraIndex] = useState(0);\n  const [availableCameras, setAvailableCameras] = useState([]);\n\n  useEffect(() => {\n    // Fetch available cameras when component mounts\n    fetch('/api/get_available_cameras')\n      .then(response => response.json())\n      .then(data => {\n        if (data.cameras && data.cameras.length > 0) {\n          setAvailableCameras(data.cameras);\n          setCameraIndex(data.cameras[0]);\n        }\n      })\n      .catch(error => console.error('Error: ', error));\n\n    const interval = setInterval(() => {\n      fetch('/api/get_stats')\n        .then(response => response.json())\n        .then(data => setStats(data));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const toggleVideo = () => {\n    const action = videoOn ? 'stop_video' : 'start_video';\n    fetch(`/api/${action}`)\n      .then(response => response.json())\n      .then(() => setVideoOn(!videoOn));\n  };\n\n  const setThreshMethod = (method) => {\n    fetch(`/api/set_thresh_method/${method}`)\n      .then(response => response.json())\n      .then(data => console.log(data.status));\n  };\n\n  const handleCameraChange = (event) => {\n    const newCameraIndex = parseInt(event.target.value);\n    setCameraIndex(newCameraIndex);\n    fetch(`/api/set_camera`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ camera_index: newCameraIndex }),\n    })\n      .then(response => response.json())\n      .then(data => {\n        if (data.status) {\n          console.log(data.status);\n        } else if (data.error) {\n          console.error(data.error);\n        }\n      })\n      .catch(error => console.error('Error: ', error));\n  };\n\n\n  return (\n    <Container fluid>\n      <Row className=\"mt-4\">\n        <Col md={8}>\n          <Card>\n            <Card.Body>\n              <Card.Title>Video Feed</Card.Title>\n              <img\n                src=\"/api/video_feed\"\n                alt=\"Video feed\"\n                style={{ display: videoOn ? 'block' : 'none', width: '100%' }}\n              />\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col md={4}>\n          <Card className=\"mb-4\">\n            <Card.Body>\n              <Card.Title>Statistics</Card.Title>\n              <p>Count: {stats.count}</p>\n              <h6>Card History:</h6>\n              <div className=\"card-history\">\n                {stats.history.map((card, index) => (\n                  <div key={index}>{`${card[0]} of ${card[1]}`}</div>\n                ))}\n              </div>\n            </Card.Body>\n          </Card>\n          <Card className=\"mb-4\">\n            <Card.Body>\n              <Card.Title>Controls</Card.Title>\n              <Button onClick={toggleVideo}>\n                {videoOn ? 'Stop Video' : 'Start Video'}\n              </Button>\n            </Card.Body>\n          </Card>\n          <Card className='mb-4'>\n            <Card.Body>\n              <Card.Title>Thresholding Method</Card.Title>\n              <Button onClick={() => setThreshMethod('original')} className=\"me-2 mb-2\">Original</Button>\n              <Button onClick={() => setThreshMethod('adaptive')} className=\"me-2 mb-2\">Adaptive</Button>\n              <Button onClick={() => setThreshMethod('otsu')} className=\"me-2 mb-2\">Otsu</Button>\n            </Card.Body>\n          </Card>\n          <Card className='mb-4'>\n            <Card.Body>\n              <Card.Title>Camera Selection</Card.Title>\n              <Form.Select\n                value={cameraIndex}\n                onChange={handleCameraChange}\n              >\n                {availableCameras.map((camera, index) => (\n                  <option key={index} value={index}>Camera {index}</option>\n                ))}\n              </Form.Select>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}