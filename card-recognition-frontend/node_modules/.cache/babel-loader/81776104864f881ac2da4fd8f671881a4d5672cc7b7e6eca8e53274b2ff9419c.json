{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Button,Form}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[videoOn,setVideoOn]=useState(false);const[stats,setStats]=useState({count:0,history:[]});const[cameraIndex,setCameraIndex]=useState(0);const[availableCameras,setAvailableCameras]=useState([]);useEffect(()=>{// Fetch available cameras when component mounts\nfetch('/api/get_available_cameras').then(response=>response.json()).then(data=>{if(data.cameras&&data.cameras.length>0){console.log(\"Available cameras: \",data.cameras);setAvailableCameras(data.cameras);setCameraIndex(data.cameras[0]);}else{console.warn(\"No cameras available\");setAvailableCameras([]);}}).catch(error=>console.error('Error: ',error));const interval=setInterval(()=>{fetch('/api/get_stats').then(response=>response.json()).then(data=>setStats(data));},1000);return()=>clearInterval(interval);},[]);const toggleVideo=()=>{const action=videoOn?'stop_video':'start_video';fetch(\"/api/\".concat(action)).then(response=>response.json()).then(()=>setVideoOn(!videoOn));};const setThreshMethod=method=>{fetch(\"/api/set_thresh_method/\".concat(method)).then(response=>response.json()).then(data=>console.log(data.status));};const handleCameraChange=event=>{const newCameraIndex=parseInt(event.target.value);setCameraIndex(newCameraIndex);fetch(\"/api/set_camera\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({camera_index:newCameraIndex})}).then(response=>response.json()).then(data=>{if(data.status){console.log(data.status);}else if(data.error){console.error(data.error);}}).catch(error=>console.error('Error: ',error));};return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsxs(Row,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Video Feed\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/api/video_feed\",alt:\"Video feed\",style:{display:videoOn?'block':'none',width:'100%'}})]})})}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Statistics\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Count: \",stats.count]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Card History:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-history\",children:stats.history.map((card,index)=>/*#__PURE__*/_jsx(\"div\",{children:\"\".concat(card[0],\" of \").concat(card[1])},index))})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Controls\"}),/*#__PURE__*/_jsx(Button,{onClick:toggleVideo,children:videoOn?'Stop Video':'Start Video'})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Thresholding Method\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setThreshMethod('original'),className:\"me-2 mb-2\",children:\"Original\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setThreshMethod('adaptive'),className:\"me-2 mb-2\",children:\"Adaptive\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setThreshMethod('otsu'),className:\"me-2 mb-2\",children:\"Otsu\"})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Camera Selection\"}),availableCameras.length>0?/*#__PURE__*/_jsx(Form.Select,{value:cameraIndex,onChange:handleCameraChange,children:availableCameras.map((camera,index)=>/*#__PURE__*/_jsxs(\"option\",{value:index,children:[\"Camera \",index]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No cameras available\"})]})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Form","jsx","_jsx","jsxs","_jsxs","App","videoOn","setVideoOn","stats","setStats","count","history","cameraIndex","setCameraIndex","availableCameras","setAvailableCameras","fetch","then","response","json","data","cameras","length","console","log","warn","catch","error","interval","setInterval","clearInterval","toggleVideo","action","concat","setThreshMethod","method","status","handleCameraChange","event","newCameraIndex","parseInt","target","value","headers","body","JSON","stringify","camera_index","fluid","children","className","md","Body","Title","src","alt","style","display","width","map","card","index","onClick","Select","onChange","camera"],"sources":["C:/Users/Dean.PIC-SIX/Documents/random/school/JACKOSCOPE REACT/card-recognition-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Button, Form } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nfunction App() {\n  const [videoOn, setVideoOn] = useState(false);\n  const [stats, setStats] = useState({ count: 0, history: [] });\n  const [cameraIndex, setCameraIndex] = useState(0);\n  const [availableCameras, setAvailableCameras] = useState([]);\n\n  useEffect(() => {\n    // Fetch available cameras when component mounts\n    fetch('/api/get_available_cameras')\n      .then(response => response.json())\n      .then(data => {\n        if (data.cameras && data.cameras.length > 0) {\n          console.log(\"Available cameras: \", data.cameras);\n          setAvailableCameras(data.cameras);\n          setCameraIndex(data.cameras[0]);\n        } else {\n          console.warn(\"No cameras available\");\n          setAvailableCameras([]);\n        }\n      })\n      .catch(error => console.error('Error: ', error));\n\n    const interval = setInterval(() => {\n      fetch('/api/get_stats')\n        .then(response => response.json())\n        .then(data => setStats(data));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const toggleVideo = () => {\n    const action = videoOn ? 'stop_video' : 'start_video';\n    fetch(`/api/${action}`)\n      .then(response => response.json())\n      .then(() => setVideoOn(!videoOn));\n  };\n\n  const setThreshMethod = (method) => {\n    fetch(`/api/set_thresh_method/${method}`)\n      .then(response => response.json())\n      .then(data => console.log(data.status));\n  };\n\n  const handleCameraChange = (event) => {\n    const newCameraIndex = parseInt(event.target.value);\n    setCameraIndex(newCameraIndex);\n    fetch(`/api/set_camera`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ camera_index: newCameraIndex }),\n    })\n      .then(response => response.json())\n      .then(data => {\n        if (data.status) {\n          console.log(data.status);\n        } else if (data.error) {\n          console.error(data.error);\n        }\n      })\n      .catch(error => console.error('Error: ', error));\n  };\n\n\n  return (\n    <Container fluid>\n      <Row className=\"mt-4\">\n        <Col md={8}>\n          <Card>\n            <Card.Body>\n              <Card.Title>Video Feed</Card.Title>\n              <img\n                src=\"/api/video_feed\"\n                alt=\"Video feed\"\n                style={{ display: videoOn ? 'block' : 'none', width: '100%' }}\n              />\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col md={4}>\n          <Card className=\"mb-4\">\n            <Card.Body>\n              <Card.Title>Statistics</Card.Title>\n              <p>Count: {stats.count}</p>\n              <h6>Card History:</h6>\n              <div className=\"card-history\">\n                {stats.history.map((card, index) => (\n                  <div key={index}>{`${card[0]} of ${card[1]}`}</div>\n                ))}\n              </div>\n            </Card.Body>\n          </Card>\n          <Card className=\"mb-4\">\n            <Card.Body>\n              <Card.Title>Controls</Card.Title>\n              <Button onClick={toggleVideo}>\n                {videoOn ? 'Stop Video' : 'Start Video'}\n              </Button>\n            </Card.Body>\n          </Card>\n          <Card className='mb-4'>\n            <Card.Body>\n              <Card.Title>Thresholding Method</Card.Title>\n              <Button onClick={() => setThreshMethod('original')} className=\"me-2 mb-2\">Original</Button>\n              <Button onClick={() => setThreshMethod('adaptive')} className=\"me-2 mb-2\">Adaptive</Button>\n              <Button onClick={() => setThreshMethod('otsu')} className=\"me-2 mb-2\">Otsu</Button>\n            </Card.Body>\n          </Card>\n          <Card className='mb-4'>\n            <Card.Body>\n              <Card.Title>Camera Selection</Card.Title>\n              {availableCameras.length > 0 ? (\n                <Form.Select\n                  value={cameraIndex}\n                  onChange={handleCameraChange}\n                >\n                  {availableCameras.map((camera, index) => (\n                    <option key={index} value={index}>Camera {index}</option>\n                  ))}\n                </Form.Select>\n              ) : (\n                <p>No cameras available</p>\n              )}\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}